sudo: true
dist: xenial
language: java
before_install:
  - chmod +x src/main/java/tpci/matrix/SquareMatrix.java
  - ./src/main/java/tpci/matrix/SquareMatrix.java
jdk:
  - openjdk8
  - openjdk11
  - openjdk13
addons:
  apt:
    packages:
      - ant
  

jobs:
  include:
    - stage: test
      name: Linux + OpenJDK 8
      os: linux
      dist: xenial
      sudo: required
      jdk: openjdk8
      install: true
      script: ./src/test/java/tpci/matrix/SquareMatrixTest.java
      before_install:
        - chmod +x src/test/java/tpci/matrix/SquareMatrixTest.java
    - stage: test
      name: Linux + Oracle JDK 11
      os: linux
      dist: xenial
      sudo: required
      jdk: openjdk11
      install: true
      script: ./src/test/java/tcpi/matrix
      before_install:
        - chmod +x src/test/java/tpci/matrix/SquareMatrixTest.java
    - stage: "Tests Integration"
      name: "Integration Tests Java 8"
      script:  ./src/main/java/tpci/matrix/SquareMatrix.java
      before_install:
        - chmod +x src/main/java/tpci/matrix/SquareMatrix.java
    - stage: deploy
      name: "Deploy"
      script: ./deploy

